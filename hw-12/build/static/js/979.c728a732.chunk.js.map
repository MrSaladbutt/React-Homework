{"version":3,"file":"static/js/979.c728a732.chunk.js","mappings":"oIACA,SAAgB,MAAQ,qBAAqB,MAAQ,qBAAqB,KAAO,oBAAoB,MAAQ,qBAAqB,OAAS,sBAAsB,UAAY,0B,iDCK7K,MA0EA,EA1EkBA,IAAe,IAAd,KAAEC,GAAMD,EACzB,MAAOE,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,IAC7BC,GAAWC,EAAAA,EAAAA,OACX,mBAAEC,IAAuBC,EAAAA,EAAAA,YAAWC,EAAAA,IACpC,KAAEC,EAAI,QAAEC,IAAYH,EAAAA,EAAAA,YAAWI,EAAAA,GAgBrC,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAMA,MAAMC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAMG,MAAMF,SAAC,WAC5BH,EAAAA,EAAAA,MAAA,QAAMM,SAlBWC,IACnBA,EAAEC,iBACepB,EAAKqB,MACnBC,GAAQA,EAAIC,WAAad,EAAKc,UAAYD,EAAIE,QAAUf,EAAKe,SAG9DC,aAAaC,QAAQ,QAASjB,EAAKc,UACnCE,aAAaC,QAAQ,QAASjB,EAAKe,OACnClB,GAAmB,GACnBF,EAAS,aAAc,CAAEuB,SAAS,KAElCzB,EAAS,oIACX,EAM+BW,UAAWC,EAAMc,KAAKb,SAAA,EACjDH,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAMe,UAAUd,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,SAAOH,UAAWC,EAAMgB,MAAOC,QAAQ,WAAUhB,SAAC,cAGlDC,EAAAA,EAAAA,KAAA,SACEgB,MAAOvB,EAAKc,SACZU,SAAWd,GACTT,EAAQ,CACNa,SAAUJ,EAAEe,OAAOF,MACnBR,MAAOf,EAAKe,QAGhBW,GAAG,WACHtB,UAAWC,EAAMsB,MACjBC,KAAK,aAGTzB,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAMe,UAAUd,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,SAAOH,UAAWC,EAAMgB,MAAOC,QAAQ,QAAOhB,SAAC,WAG/CC,EAAAA,EAAAA,KAAA,SACEgB,MAAOvB,EAAKe,MACZS,SAAWd,GACTT,EAAQ,CACNa,SAAUd,EAAKc,SACfC,MAAOL,EAAEe,OAAOF,QAGpBG,GAAG,QACHtB,UAAWC,EAAMsB,MACjBC,KAAK,cAGTrB,EAAAA,EAAAA,KAAA,UAAQqB,KAAK,SAASxB,UAAWC,EAAMwB,OAAOvB,SAAC,UAG9Cd,IACCW,EAAAA,EAAAA,MAAA2B,EAAAA,SAAA,CAAAxB,SAAA,EACEC,EAAAA,EAAAA,KAAA,KAAGwB,MAAO,CAAEC,MAAO,OAAQ1B,SAAEd,KAC7Be,EAAAA,EAAAA,KAAC0B,EAAAA,GAAI,CAAC7B,UAAWC,EAAMwB,OAAQK,GAAG,kBAAiB5B,SAAC,uGAMtD,C","sources":["webpack://hw-2/./src/pages/LoginPage/login.module.css?7ea1","pages/LoginPage/LoginPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"login\":\"login_login__UbQuw\",\"title\":\"login_title__COHFI\",\"form\":\"login_form__4mkz2\",\"input\":\"login_input__WJCTu\",\"button\":\"login_button__qPavk\",\"formfield\":\"login_formfield__REXLN\"};","import { useContext, useState } from \"react\";\r\nimport login from \"./login.module.css\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { UserContext } from \"../../context/UserContext\";\r\n\r\nconst LoginPage = ({ data }) => {\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const { setIsAuthenticated } = useContext(AuthContext);\r\n  const { user, setUser } = useContext(UserContext);\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    const userData = data.find(\r\n      (obj) => obj.username === user.username && obj.email === user.email\r\n    );\r\n    if (userData) {\r\n      localStorage.setItem(\"login\", user.username);\r\n      localStorage.setItem(\"email\", user.email);\r\n      setIsAuthenticated(true);\r\n      navigate(\"/todo-list\", { replace: true });\r\n    } else {\r\n      setError(\"Користувача не знайдено!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={login.login}>\r\n      <h2 className={login.title}>Login</h2>\r\n      <form onSubmit={handleLogin} className={login.form}>\r\n        <div className={login.formfield}>\r\n          <label className={login.label} htmlFor=\"username\">\r\n            Username\r\n          </label>\r\n          <input\r\n            value={user.username}\r\n            onChange={(e) =>\r\n              setUser({\r\n                username: e.target.value,\r\n                email: user.email,\r\n              })\r\n            }\r\n            id=\"username\"\r\n            className={login.input}\r\n            type=\"text\"\r\n          />\r\n        </div>\r\n        <div className={login.formfield}>\r\n          <label className={login.label} htmlFor=\"email\">\r\n            Email\r\n          </label>\r\n          <input\r\n            value={user.email}\r\n            onChange={(e) =>\r\n              setUser({\r\n                username: user.username,\r\n                email: e.target.value,\r\n              })\r\n            }\r\n            id=\"email\"\r\n            className={login.input}\r\n            type=\"email\"\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className={login.button}>\r\n          Login\r\n        </button>\r\n        {error && (\r\n          <>\r\n            <p style={{ color: \"red\" }}>{error}</p>\r\n            <Link className={login.button} to=\"/create-account\">\r\n              Зареєструватись\r\n            </Link>\r\n          </>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"names":["_ref","data","error","setError","useState","navigate","useNavigate","setIsAuthenticated","useContext","AuthContext","user","setUser","UserContext","_jsxs","className","login","children","_jsx","title","onSubmit","e","preventDefault","find","obj","username","email","localStorage","setItem","replace","form","formfield","label","htmlFor","value","onChange","target","id","input","type","button","_Fragment","style","color","Link","to"],"sourceRoot":""}